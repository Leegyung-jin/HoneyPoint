<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="restaurantMapper">
	<resultMap type="Restaurant" id="restaurantResultSet">
		<id property="rNo" column="R_NO"/>
		<result property="mNo" column="M_NO"/>
		<result property="rTel" column="R_TEL"/>
		<result property="rType" column="R_TYPE"/>
		<result property="rName" column="R_NAME"/>
		<result property="rAddress" column="R_ADDRESS"/>
		<result property="rTag" column="R_TAG"/>
		<result property="rPrice" column="R_PRICE"/>
		<result property="rParking" column="R_PARKING"/>
		<result property="rStartTime" column="R_START_TIME"/>
		<result property="rEndTime" column="R_END_TIME"/>
		<result property="rRating" column="R_RATING"/>
		<result property="rIntro" column="R_INTRO"/>
		<result property="resveYn" column="RESVE_YN"/>
		<result property="rRestDay" column="R_REST_DAY"/>
		<result property="rConfm" column="R_CONFM"/>
		<result property="rStatus" column="R_STATUS"/>
		<result property="rCount" column="R_COUNT"/>
	</resultMap>
	
	<resultMap type="Review" id="reviewResultSet">
		<id property="revNo" column="REV_NO"/>
		<result property="revCn" column="REV_CN"/>
		<result property="score" column="SCORE"/>
		<result property="revStatus" column="REV_STATUS"/>
		<result property="rNo" column="R_NO"/>
		<result property="mNo" column="M_NO"/>
	</resultMap>
	
	<resultMap type="Member" id="memberResultSet">
		<id property="mNo" column="M_NO"/>
		<result property="mId" column="M_ID"/>
		<result property="mName" column="M_NAME"/>
		<result property="mEmail" column="M_EMAIL"/>
		<result property="mEnrollDate" column="M_ENROLL_DATE"/>
		<result property="mModifyDate" column="M_MODIFY_DATE"/>
		<result property="mStatus" column="M_STATUS"/>
		<result property="rConf" column="R_CONF"/>
		<result property="mOriginPf" column="M_ORIGIN_PF"/>
		<result property="mStrePf" column="M_STRE_PF"/>
	</resultMap>
	
	<update id="updateCount" parameterType="_int">
		UPDATE TB_RSTRNT_INFO
		SET R_COUNT = R_COUNT+1
		WHERE R_NO=#{rNo}
	</update>
	
	<select id="selectOne" parameterType="_int" resultMap="restaurantResultSet">
		SELECT *
		FROM TB_RSTRNT_INFO
		WHERE R_NO=#{rNo}
		AND R_STATUS='N'
	</select>
	
	
</mapper>
