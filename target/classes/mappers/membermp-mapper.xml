<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="membermpMapper">
	<resultMap type="Member" id="MemberResultSet">
		<id property="mNo" column="M_NO" />
		<result property="mId" column="M_ID" />
		<result property="mPwd" column="M_PWD" />
		<result property="mName" column="M_NAME" />
		<result property="mEmail" column="M_EMAIL" />
		<result property="mEnrollDate" column="M_ENROLL_DATE" />
		<result property="mModifyDate" column="M_MODIFY_DATE" />
		<result property="mStatus" column="M_STATUS" />
		<result property="rConf" column="R_CONF" />
		<result property="mOriginPf" column="M_ORIGIN_PF" />
		<result property="mStrePf" column="M_STRE_PF" />
		<result property="mNickname" column="M_NICKNAME" />
		<result property="mBirthday" column="M_BIRTHDAY" />
		<result property="mPhone" column="M_PHONE" />
		<result property="mAddress" column="M_ADDRESS" />
		<result property="mGrade" column="M_GRAD" />
		<result property="mPoint" column="M_POINT" />
	
	</resultMap>	
	
	<!-- 일반회원 정보 변경 -->
	<update id="updateMember">
		UPDATE TB_MEMBER
					     
		SET
			M_EMAIL = #{mEmail}
							
		WHERE
			M_ID = #{mId}		
	</update>
	<update id="updategnrlMember">
		UPDATE TB_GNRL_MEMBER
		
		SET M_PHONE = #{mPhone},
			M_ADDRESS = #{mAddress}
	
		WHERE
			M_ID = #{mId}
	</update>
	<update id="updatemPassWord">
		UPDATE TB_M_PASSWORD
		
		SET M_PWD = ${mPwd},
			
		WHERE
			M_ID = #{mId}	
	
	</update>
	
	<!-- 일반회원 탈퇴 -->
	<update id="deleteMember" parameterType="string">
		UPDATE FROM TB_MEMBER
		M_STATUS='N'
		WHERE M_ID = #{mId}	
	</update>
	
</mapper>